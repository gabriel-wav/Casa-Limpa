const track = document.querySelector(".carrossel-track");
const imagens = document.querySelectorAll(".carrossel-track img");
const btnLeft = document.querySelector(".btn-left");
const btnRight = document.querySelector(".btn-right");
const bolinhas = document.querySelectorAll(".bolinhas div");

let index = 0;

function atualizarCarrossel() {
  const largura = document.querySelector(".carrossel").offsetWidth;
  track.style.transform = `translateX(-${index * (largura + 20)}px)`;
  atualizarBolinhas();
}

function atualizarBolinhas() {
  bolinhas.forEach((b, i) => {
    b.style.background = (i === index) ? "#31B26A" : "#3A3A3A";
  });
}

btnRight.addEventListener("click", () => {
  index++;
  if (index >= imagens.length) index = 0;
  atualizarCarrossel();
});

btnLeft.addEventListener("click", () => {
  index--;
  if (index < 0) index = imagens.length - 1;
  atualizarCarrossel();
});

bolinhas.forEach((b, i) => {
  b.addEventListener("click", () => {
    index = i;
    atualizarCarrossel();
  });
});

window.addEventListener("resize", atualizarCarrossel);

atualizarCarrossel();

// ===== WHATSAPP FLOAT =====
document.getElementById('waLink').addEventListener('click', e => {
  e.preventDefault();
  const wa = '5511980487555';
  const pre = encodeURIComponent('Olá, quero mais informações sobre limpeza.');
  window.open(`https://wa.me/${wa}?text=${pre}`, '_blank');
});
